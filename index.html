<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<style type="text/css">

    .crystal-image {
      width: 300px;
      height: 300px;
    }
  </style>
	<script type="text/javascript" src="assets/javascript.js"></script>
</head>
<body>
	
		<h1>Number to Guess: <span id="number-to-guess"></span></h1>

		<!-- Note that this div is now empty. We will fill it dynamically -->
		<div id="crystals">
		</div>
		<div>
        <h3>Wins: </h3>
        <span id="wins"></span>
		</div>
		<div>
        <h3>Losses: </h3>
        <span id="losses"></span>
    </div>

<script>
			
			var targetNumber = Math.floor(Math.random() * 40) + 20;

$("#number-to-guess").text(targetNumber);

var counter = 0;
var wins = 0;
var losses = 0;

var numberOptions = [(Math.floor(Math.random() * 10) + 1), (Math.floor(Math.random() * 10) + 1), (Math.floor(Math.random() * 10) + 1), (Math.floor(Math.random() * 10) + 1)];

var listOfPictures = ["https://jaysanalysis.files.wordpress.com/2014/11/fantasy-crystal2.jpg","http://media.beliefnet.com/~/media/photos/holistic-living/galleries/7-crystals-you-need-to-bring-love-into-your-love-life/crystals_intro.jpg","https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Amethystemadagascar2.jpg/1200px-Amethystemadagascar2.jpg","https://jaysanalysis.files.wordpress.com/2014/11/fantasy-crystal2.jpg"]

for (var i = 0; i < numberOptions.length; i++) {

	var imageCrystal = $("<img>");

	imageCrystal.addClass("crystal-image");

	imageCrystal.attr("src", listOfPictures[i]);
 


	imageCrystal.attr("data-crystalvalue", numberOptions[i]);


	$("#crystals").append(imageCrystal);


}
	

$(".crystal-image").on("click", function() {



	var crystalValue = ($(this).attr("data-crystalvalue"));

	crystalValue = parseInt(crystalValue);



  

		counter += crystalValue;

	alert("New score: " + counter);

	if (counter === targetNumber) {
		alert("You win!");
		wins++;
    $("#win-lose").html("<h2>Winner!</h2>");
		$("#wins").html("<h3>" + wins + "</h3>");
		for (var i = 0; i < 4; i++) {
			$("crystals")[i].attr("data-crystalvalue", Math.floor(Math.random()*10) + 1);

		}

	}

	else if (counter >= targetNumber) {
		alert("You lose!!");
		losses++;
    $("#win-lose").html("<h2>You lost..</h2>");
		$("#losses").html("<h3>" + losses + "</h3>");
		for (var i = 0; i < 4; i++) {
			$("crystals")[i].attr("data-crystalvalue", Math.floor(Math.random()*10) + 1);

		}

	}


});
</script>


</body>
</html>